<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../components/core-ajax/core-xhr.html">
<link rel="import" href="../../ourcomponents/indiv-notif/indiv-notif.html">
<link rel="import" href="../../ourcomponents/notifs-service/notifs-service.html">

<polymer-element name="notifs-list" attributes="listtype userpage">
	<template>
		<link rel="stylesheet" href="/static/assets/style.css" shim-shadowdom>
		<style>
			:host{
				display:block;
				margin:0 auto;
				width:100%;
				border-radius:2px;
			}
			.island{
				color:white;
				width:100%;
				position:relative;
				background:white;
				font-weight:300;
				margin-bottom: 16px;
				box-sizing:border-box;
				border-radius:2px 2px 0px 0px;
				overflow:hidden;
			}
			.island h3{
				color:#b3b3b3;
				padding: 25px 36px 8px;
				font-size: 14px;
				letter-spacing: .3px;
			}
			.cardtitle h1{
				text-shadow: 0px 0px 1px rgba(0,0,0,.3);
				letter-spacing: .9px;
			}
			indiv-notif .meat{
				color: #5f5f5f;
				font-size: 18px;
			}
			indiv-notif .top{
				margin-bottom: 4px;
				font-size: 14px;
			}
		</style>
		<notifs-service id="service" notifgroups="{{notifgroups}}" notifkeys="{{notifkeys}}"></notifs-service>
		<template repeat="{{notifkey in notifkeys}}">
			<template if="{{notifgroups[notifkey].length}}">
				<div class="island">
					<h3>{{notifkey}} Notifications</h3>
					<div class="notifs">
						<template repeat="{{notif in notifgroups[notifkey]}}">
							<template if="{{notif.type == 'mention in comment'}}">
							<indiv-notif>
								<div class="top">
									{{sender}} mentioned you in a comment
								</div>
								<div class="meat">
									{{text}}
								</div>
							</indiv-notif>
							</template>
						</template>
					</div>
					<paper-shadow z="1"></paper-shadow>
				</div>
			</template>
		</template>
<!-- 		<div class="island">
			<h3>Unread Notifications</h3>
			<div class="notifs">
				<indiv-notif>
					<div class="meat">
						Getting the Scoop, but Not Necessarily the Story
					</div>
				</indiv-notif>
			</div>
			<paper-shadow z="1"></paper-shadow>
		</div>
		<div class="island">
			<h3>Old Notifications</h3>
			<paper-shadow z="1"></paper-shadow>
		</div> -->
	</template>
	<script>
		Polymer('notifs-list', {
		});
	</script>
</polymer-element>